.meta {
  font-size: 0.875rem;
  color: var(--muted);
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  margin-bottom: 8px;
  padding: 8px 0;
  border-bottom: 1px solid var(--border);
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Prefer emoji-capable fonts for inline meta/labels so regional-flag emoji render on Chromium/Windows */
.meta, .meta-item, label, header h1 {
  font-family: "Segoe UI Emoji", "Noto Color Emoji", "Apple Color Emoji", "Segoe UI Symbol", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}

/* Twemoji output: SVG images inserted into DOM via innerHTML */
.twemoji {
  display: inline-block;
  vertical-align: -2px;
}
.twemoji img {
  width: 1em;
  height: 1em;
  display: inline-block;
}

.summary {
  line-height: 1.7;
  font-size: 15px;
  overflow-wrap: anywhere;
  word-break: break-word;
  max-height: calc(100vh - 160px);
  overflow-y: auto;
  font-weight: 400;
}

/* compact reading mode removed; density controlled via font size slider */

.summary h1, .summary h2, .summary h3 {
  margin: 1.5em 0 0.75em;
  line-height: 1.3;
}

.summary h1 { font-size: 1.5em; }
.summary h2 { font-size: 1.25em; }
.summary h3 { font-size: 1.1em; }

.summary p {
  margin: 1em 0;
}

.summary ul, .summary ol {
  margin: 1em 0;
  list-style: none;
}

.summary li {
  margin: 0.5em 0;
}

.summary a {
  color: var(--accent2);
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: var(--transition);
  max-width: 100%;
  display: inline-block;
  vertical-align: bottom;
  overflow-wrap: anywhere;
}

.summary a:hover {
  border-bottom-color: var(--accent2);
}

.summary blockquote {
  border-left: 3px solid var(--accent);
  padding-left: 1em;
  margin: 1em 0;
  font-style: italic;
  opacity: 0.9;
}

/* Custom scrollbar for summary panels and modals */
.summary {
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: rgba(77,163,255,0.22) rgba(255,255,255,0.02); /* thumb, track */
}

/* Webkit-based browsers */
.summary::-webkit-scrollbar {
  width: 10px;
}
.summary::-webkit-scrollbar-track {
  background: transparent;
}
.summary::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(77,163,255,0.14), rgba(77,163,255,0.22));
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
.summary::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgba(77,163,255,0.20), rgba(77,163,255,0.30));
}

/* Single-line meta strip with optional auto-scroll (marquee) when content overflows */
.meta-strip {
  display: block;
  position: relative;
  overflow: hidden;
  white-space: nowrap;
  width: 100%;
}
.meta-strip-inner {
  display: inline-flex;
  gap: 16px;
  align-items: center;
  padding: 8px 0;
  will-change: transform;
}

/* When meta-scroll is active, animate the inner strip from right to left */
.meta-strip.meta-scroll .meta-strip-inner {
  /* duration and translate are set by JS via CSS variables for a consistent speed */
  animation: metaMarquee var(--meta-marquee-duration, 12s) linear infinite;
}

/* Duplicate content technique: if content width <= container, do not animate.
   ResizeObserver in JS enables meta-scroll only when inner is wider. */